<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Belajar DOM - addEventListener (keypress)</title>
    <style>
      /* Styling sedikit agar bisa lebih rapih */
      .btn-grid {
        display: grid;
        grid-template-rows: repeat(2, minmax(0, 1fr));
        gap: 0.5rem;
      }

      .btn {
        padding: 0.5rem 1rem;
      }

      .up {
        margin: auto;
      }

      .combo {
        margin: auto;
      }
    </style>
  </head>
  <body>
    <!-- Misalnya sekarang kita ingin mengganti arrow kiri bawah kanan, menjadi wasd -->
    <div id="app">
      <section>
        <p>Belajar addEventListener - keypress</p>

        <div>
          <div id="txtOutput">Tombol yang ditekan adalah:</div>
        </div>

        <!-- Kita tidak perlu menggunakan button lagi, karena sudah menggunakan event keypress -->
      </section>
    </div>

    <section style="margin-top: 1rem">
      <a href="index.html">onclick</a>
      <a href="index2.html">addEventListener (click)</a>
      <a href="index3.html">addEventListener (keypress)</a>
    </section>

    <script>
      // deklarasi element
      const txtOutput = document.getElementById('txtOutput');

      // deklarasi variabel
      const templateText = 'Tombol yang ditekan adalah: ';

      // deklarasi fungsi
      // fungsi sebelumnya sudah tidak bisa digunakan lagi karena menggunakan satu fungsi saja
      const keyPressHandler = (event) => {
        // https://www.freecodecamp.org/news/javascript-keycode-list-keypress-event-key-codes/
        // sekarang kita harus bisa menangkap tombol apa yang sedang ditekan
        const keyCode = event.key;

        // variabel untuk output
        let txtButton;

        // Bila tombol yang ditekan adalah w
        if (keyCode === 'w') {
          txtButton = 'atas';
        } else if (keyCode === 'a') {
          txtButton = 'kiri';
        } else if (keyCode === 'Enter') {
          txtButton = 'Enter';
        } else if (keyCode === 'd') {
          txtButton = 'kanan';
        } else {
          txtButton = 'bukan wasd';
        }

        // set value ke innerHTML txtOutput
        txtOutput.innerHTML = `${templateText} ${txtButton}`;
      };

      // Di sini kita melakukan registrasi event pada node teratas (document)
      document.addEventListener('keypress', keyPressHandler);
    </script>
  </body>
</html>
